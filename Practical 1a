Cell 1: Import Libraries
# Import necessary libraries
import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt


Click â–¶ Run

Cell 2: Load Dataset
# Load the Titanic dataset from a URL
url = "https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv"
data = pd.read_csv(url)

# Display first few rows
print(data.head())

Cell 3: Handle Missing Values
# Check missing values
print("Missing values in each column:")
print(data.isnull().sum())

# Fill missing Age with mean
data['Age'].fillna(data['Age'].mean(), inplace=True)

# Fill missing Embarked with mode
data['Embarked'].fillna(data['Embarked'].mode()[0], inplace=True)

# Drop Cabin column
data.drop(columns=['Cabin'], inplace=True)

# Verify
print("\nAfter handling missing values:")
print(data.isnull().sum())

Cell 4: Fix Inconsistent Formatting
# Fix inconsistent formatting in Sex column
data['Sex'] = data['Sex'].str.lower().str.strip()

print("\nUnique values in 'Sex' column:")
print(data['Sex'].unique())

Cell 5: Detect & Handle Outliers
# Boxplot before handling outliers
sns.boxplot(x=data['Fare'], color='skyblue')
plt.title('Boxplot of Fare')
plt.show()

# IQR method
Q1 = data['Fare'].quantile(0.25)
Q3 = data['Fare'].quantile(0.75)
IQR = Q3 - Q1

lower_bound = Q1 - 1.5 * IQR
upper_bound = Q3 + 1.5 * IQR

# Capping outliers
data['Fare'] = np.where(
    data['Fare'] > upper_bound, upper_bound,
    np.where(data['Fare'] < lower_bound, lower_bound, data['Fare'])
)

# Boxplot after handling outliers
sns.boxplot(x=data['Fare'], color='lightgreen')
plt.title('Boxplot of Fare (After Handling Outliers)')
plt.show()

Cell 6: Save Cleaned Dataset
# Save cleaned dataset
data.to_csv('cleaned_titanic.csv', index=False)
print("Cleaned dataset saved as 'cleaned_titanic.csv'")
